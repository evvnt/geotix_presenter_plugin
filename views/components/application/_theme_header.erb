<% if theme[:font_family].present? %>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=<%= theme[:font_family].gsub(' ', '+') %>">
<% end %>

<style>
  <%= raw File.read(File.expand_path('../../../public/bundle.css', __dir__)  ) %>
  <% #See https://material.io/develop/web/theming/theming-guide for reference %>

  #admin-side-nav .mdc-drawer__header {
    background-image: url("<%= theme[:logo_url].presence || "../images/evvnt_logo.svg" %>") !important;
    background-size: contain;
  }

  <% if theme.present? %>
  :root {
    --mdc-theme-primary:  <%= theme[:primary_color] %>;
    --mdc-theme-secondary: <%= theme[:secondary_color] %>;
    --mdc-theme-background: <%= theme[:primary_color] %>;
    --mdc-theme-chip-color: <%= palette[:primary1] %>;
    --mdc-theme-chip-ink-color: <%= palette[:primary6] %>;

    <% if theme[:font_family] %>
    --mdc-typography-font-family: <%= theme[:font_family] %>;
    <% end %>
  }

  .mdc-drawer .mdc-list-item--activated , .mdc-drawer .mdc-list-item--activated .mdc-list-item__graphic {
    color: var(--mdc-theme-primary) !important;
  }
  <% end %>

  <% if theme[:css_overrides].present? %>
    <%= raw theme[:css_overrides] %>
  <% end %>
</style>

<style>
  <% # This override should not longer be necessary once we upgrade the materialize theme to v8.0+ %>
  .mdc-chip{
    color: var(--mdc-theme-chip-color);
    background-color: var(--mdc-theme-chip-ink-color);
  }

  .mdc-chip-set--filter .mdc-chip--selected:hover{
      color: var(--mdc-theme-text-primary-on-dark, white);
  }

  .mdc-chip-set--choice .mdc-chip, .mdc-chip-set--choice .mdc-chip--selected, .mdc-chip-set--filter .mdc-chip--selected  {
      color: var(--mdc-theme-chip-color);
      background-color: var(--mdc-theme-chip-ink-color);
  }
</style>


